---
title: Flask 작업 환경 공유
date: 22-02-14 11:00:00 + 0900
category: four-broccolis
---

> 단축어 (아무 곳에서나 실행해도 됩니다.)

- bg : bgcroll로 이동
- bf : bgflask로 이동
- run : flask 서버 즉시 실행

<br>

> Flask 서버에 대해서

작업 내용을 웹 브라우저로 확인하기 위해서는, 리모트 서버에서 flask를 실행한 후 웹브라우저를 통해 **sookyeongyeom.com:5000/[경로]** 로 접속해주셔야 합니다.

flask 서버 실행 방법은, 리모트 서버에 접속하신 후 **run** 을 입력하시면 아무 곳에서나 즉시 실행됩니다.

내부적으로는 **run** 명령어 실행 시 다음의 과정이 일어나도록 세팅했습니다.

1. bgflask 디렉토리로 이동
    - flask 실행은 반드시 작업 디렉토리 내에서 이루어져야 합니다.
2. export FLASK_ENV=development (개발환경으로 서버 ON)
    - 개발환경으로 세팅 시 변경 내용 저장 후 새로고침을 누르면 변경 사항이 즉시 적용되어 표시됩니다.
    - 개발환경으로 세팅하지 않으면 서버를 껐다 켜야 변경 사항이 반영되기 때문에 개발에 적합하지 않습니다.
3. flask run --host=0.0.0.0
    - 모든 IP에서 리모트서버의 5000번 포트로 접속할 수 있게 합니다.
    - Flask는 5000번 포트를 통해 서비스됩니다.

설명이 길긴 하지만 그냥 아무 곳에서나 **run** 만 입력하시면 상기한 사항들을 자동으로 실행해줍니다.

<br>

> 이렇게 작업하시면 됩니다.

1. VSCode SFTP 익스텐션으로 리모트 서버의 bgflask와 연동해줍니다.
2. 리모트 서버에 접속하신 후 **run** 을 입력해주세요.
3. 웹브라우저로 **sookyeongyeom.com:5000/[경로]** 로 접속하시면 작업 내용을 실시간으로 확인할 수 있습니다.

<br>

> 주의사항

1. **bgflask를 작업 디렉토리(=myproject)라고 생각하고 작업해주세요!** 루트 디렉토리(=projects)가 아닙니다. 하위에 새로운 작업 디렉토리 생성 X
2. 현재 bgflask에는 제가 테스트용으로 작업한 파일들이 남아있습니다. 별 내용 없기 때문에 해당 파일들을 그대로 이어서 사용하셔도 괜찮습니다. 아예 처음부터 하고 싶으시면 **기존에 있던 파일들은 지워주세요.** (충돌 방지)
3. **<span style="color:red; font-weight:bold">bgflask 내 run 파일은 지우시면 안됩니다!</span>** (run 명령어 실행 파일이에요 ㅠㅠ alias run과 연결되어 있습니다.)

<br>

> 새로운 alias 생성 방법

1. **vim ~/.bashrc**
    - 이 파일에 alias를 작성해주시면 됩니다.
2. 조금 내려가시면 alias가 모여있는 부분이 있습니다. (if문 내부 alias X)
    - 아래쪽에 새로운 alias를 추가해주시면 됩니다.
3. alias 작성 방법
    - **alias 단축어='명령어'** 형식으로 작성하시면 됩니다.
    - **alias 단축어='명령어; 명령어; 명령어'** 형식으로 작성하시면 여러개의 명령어를 순차적으로 실행할 수 있습니다.
    - ex. alias bg='cd /rss/python-server/bgcroll'
4. alias 적용
    - 변경 사항을 저장하고 **:wq**로 빠져나오신 후 **source ~/.bashrc** 를 입력해서 변경 사항을 적용해주셔야 합니다.